$("#toggleDoneItems").click(function () { $(".doneItem").toggle("slow", function () { }); var e = $("#toggleDoneItemsText").text(); $("#toggleDoneItemsText").text("Hide Completed Items" === e ? "Show Completed Items" : "Hide Completed Items") }), $(".sortableArrow").hide(), $("#toggleRanking").click(function () { if ("Order By Importance" === $("#toggleRankingText").text()) location.reload(); else { $(".itemOrder li").sort(function (e, t) { return $(e).data("position") > $(t).data("position") ? 1 : -1 }).appendTo(".itemOrder"); var e = $("#toggleRankingText").text(); $("#toggleRankingText").text("Order By Rank" === e ? "Order By Importance" : "Order By Rank"), $(".sortableArrow").show() } $(function () { $("#sortable").sortable({ items: "li:not(.ui-state-disabled)", cursor: "move", start: function (e, t) { $StartIndex = t.item.index() + 1 }, stop: function (e, t) { idListItem = t.item[0].id.replace("item_", ""), newListIndex = t.item.index() + 1, $StartIndex !== newListIndex && function (e, t) { newRank = t - 2, e = parseInt(e); var n = JSON.stringify({ todoListItemId: e, newRank: newRank }); $.ajax({ type: "POST", url: "/api/TodoItemsRankAPI", data: n, contentType: "application/json; charset=utf-8", dataType: "json", success: function (e) { } }), $("#item_" + e).attr("data-position", newRank) }(idListItem, newListIndex) } }), $("#sortable").disableSelection() }) }), $("#addNewItemPanel").hide(), $("#addNewItemBtn").click(function () { $("#addNewItemPanel").toggle("slow", function () { }); var e = $("#addNewItemBtn").text(); $("#addNewItemBtn").text("Add New Item" === e ? "Cancel New Item" : "Add New Item") });